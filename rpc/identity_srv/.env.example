# Environment Variables for CloudWeGo Scaffold Project
# 项目环境变量配置

# ===========================================
# 应用基础配置
# ===========================================
APP_NAME=identity-system
APP_VERSION=1.0.0
APP_ENVIRONMENT=development
APP_DEBUG=true

# ===========================================
# 用户服务配置 (identity-service)
# ===========================================
IDENTITY_SRV_NAME=identity-service
USER_SRV_HOST=0.0.0.0
USER_SRV_PORT=8891

# 可选：直接指定监听地址（若设置将覆盖 Host/Port）
SERVER_ADDRESS=:8891

# ===========================================
# 健康检查配置
# ===========================================
# 健康检查服务器端口（独立的 HTTP 服务，提供 /live 和 /ready 端点）
HEALTH_CHECK_PORT=10000

# ===========================================
# 数据库配置
# ===========================================
DB_DRIVER=postgres
DB_HOST=127.0.0.1
DB_PORT=5432
DB_USERNAME=postgres
DB_PASSWORD=
DB_NAME=identity_srv
DB_SSLMODE=disable
DB_TIMEZONE=Asia/Shanghai

# 数据库连接池配置
DB_MAX_IDLE_CONNS=5
DB_MAX_OPEN_CONNS=20
DB_CONN_MAX_LIFETIME=1h
DB_CONN_MAX_IDLE_TIME=5m

# ===========================================
# 服务注册发现配置 (etcd)
# ===========================================
ETCD_ADDRESS=127.0.0.1:2379
ETCD_USERNAME=
ETCD_PASSWORD=
ETCD_TIMEOUT=5

# ===========================================
# 日志配置
# ===========================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=stdout
LOG_FILE_PATH=./logs/
LOG_MAX_SIZE=100
LOG_MAX_AGE=30
LOG_MAX_BACKUPS=10

# ===========================================
# （可按需在业务层配置）

# ===========================================
# 链路追踪配置
# ===========================================
TRACING_ENABLED=false
TRACING_ENDPOINT=http://localhost:14268/api/traces
TRACING_SAMPLER_RATIO=1.0

# ===========================================
# 监控配置
# ===========================================
METRICS_ENABLED=false
METRICS_PORT=9090


# ===========================================
# 组织Logo存储配置
# ===========================================
# S3兼容对象存储端点（MinIO/RustFS）
LOGO_STORAGE_S3_ENDPOINT=http://localhost:9000

# S3区域设置
LOGO_STORAGE_S3_REGION=us-east-1

# 是否使用SSL连接
LOGO_STORAGE_S3_USE_SSL=false

# S3访问密钥
LOGO_STORAGE_ACCESS_KEY=RustFSadmin

# S3密钥
LOGO_STORAGE_SECRET_KEY=

# 是否启用S3操作日志
LOGO_STORAGE_S3_LOG_ENABLED=false

# 超时时间（秒）
LOGO_STORAGE_TIMEOUT=5

# 最大文件大小（字节）- 默认10MB
LOGO_STORAGE_MAX_FILE_SIZE=10485760

# 允许的图片 MIME 类型（逗号分隔）
# 支持的图片格式：
#   - image/jpeg, image/jpg: JPEG 图片
#   - image/png: PNG 图片
#   - image/gif: GIF 图片
#   - image/webp: WebP 图片
#   - image/svg+xml: SVG 矢量图
LOGO_STORAGE_ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp,image/svg+xml

# ===========================================
# Casbin 配置
# ===========================================
CASBIN_MODEL_PATH=./config/permission_model.conf
CASBIN_ENABLE_LOG=false

# ===========================================
# 超级管理员配置
# ===========================================
# 超管角色名称列表（逗号分隔），这些角色将拥有所有菜单的完整权限
SUPER_ADMIN_ROLE_NAMES=superadmin,system_admin,root